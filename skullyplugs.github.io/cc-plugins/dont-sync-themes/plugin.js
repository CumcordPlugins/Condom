(function(n,a,i,m,o,h){"use strict";function p(t){if(t&&t.__esModule)return t;var c=Object.create(null);return t&&Object.keys(t).forEach(function(e){if(e!=="default"){var s=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(c,e,s.get?s:{enumerable:!0,get:function(){return t[e]}})}}),c.default=t,Object.freeze(c)}var r=p(m);const d=a.findByDisplayName("SwitchItem");var f=()=>(h.useNest(o.persist),r.createElement(r.Fragment,null,r.createElement(d,{note:"Blocks theme changes that come from other clients.",value:o.persist.ghost.showUtils,onChange:()=>o.persist.store.showUtils=!o.persist.store.showUtils},"Block External Changes")));let l,u;var g=t=>({onLoad(){const c=a.findByProps("patch");typeof t.persist.ghost?.blockExtDispatch!="boolean"&&(t.persist.ghost.blockExtDispatch=!0),l=n.instead("patch",c,(e,s)=>{e[0].body?.theme&&e[0].url==="/users/@me/settings"||s(e)}),u=n.instead("dispatch",i.FluxDispatcher,(e,s)=>{t.persist.ghost.blockExtDispatch&&e[0].type==="USER_SETTINGS_UPDATE"&&!e[0]?.isLocal&&e[0]?.settings?.theme||s(e[0])})},onUnload(){l?.(),u?.()},settings:i.React.createElement(f)});return g})(cumcord.patcher,cumcord.modules.webpack,cumcord.modules.common,cumcord.modules.common.React,cumcord.pluginData,cumcord.utils);
