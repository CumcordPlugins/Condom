(function(e,n,t){"use strict";const{getChannelId:s}=n.findByProps("getChannelId","getLastSelectedChannelId","getVoiceChannelId"),{getChannel:i}=n.findByProps("getChannel"),{getMessages:o}=n.findByProps("getMessages");let c,r=-1,d=s(),u=Symbol("quickreply_deletePendingReply_int");async function l(n){t.FluxDispatcher.dirtyDispatch({type:e.ActionTypes.DELETE_PENDING_REPLY,channelId:s(),...n})}function a(e){d!==e.channelId&&(d=e.channelId,r=-1)}function E(e){c!==e.message.id&&(c=e.message.id)}function y(e){c=void 0,e[u]||(r=-1)}async function p(n){if(!n.ctrlKey)return;if("ArrowUp"!==n.key&&"ArrowDown"!==n.key)return;let d=(await o(s())).toArray().reverse(),a=d.findIndex((e=>e.id===c))||0;if("ArrowUp"===n.key?r=a+1:"ArrowDown"===n.key&&(r=a-1),r>d.length&&(r=d.length),r<0)return l();let E=d[r];l({[u]:!0}),async function(n,s,i,o){void 0===o&&(o=null!==n.guild_id),t.FluxDispatcher.dirtyDispatch({type:e.ActionTypes.CREATE_PENDING_REPLY,channel:n,message:s,shouldMention:i,showMentionToggle:o})}(i(s()),E,!0)}return{onLoad(){t.FluxDispatcher.subscribe(e.ActionTypes.CHANNEL_SELECT,a),t.FluxDispatcher.subscribe(e.ActionTypes.CREATE_PENDING_REPLY,E),t.FluxDispatcher.subscribe(e.ActionTypes.DELETE_PENDING_REPLY,y),window.addEventListener("keydown",p)},onUnload(){t.FluxDispatcher.unsubscribe(e.ActionTypes.CHANNEL_SELECT,a),t.FluxDispatcher.unsubscribe(e.ActionTypes.CREATE_PENDING_REPLY,E),t.FluxDispatcher.unsubscribe(e.ActionTypes.DELETE_PENDING_REPLY,y),window.removeEventListener("keydown",p)}}})(cumcord.modules.common.constants,cumcord.modules.webpackModules,cumcord.modules.common);