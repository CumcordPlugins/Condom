(function(h,t,w,n,g){"use strict";function b(e){if(e&&e.__esModule)return e;var l=Object.create(null);return e&&Object.keys(e).forEach(function(s){if(s!=="default"){var v=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(l,s,v.get?v:{enumerable:!0,get:function(){return e[s]}})}}),l.default=e,Object.freeze(l)}var o=b(h);const k=n.webpack.findByDisplayName("FormItem"),D=n.webpack.findByDisplayName("FormText"),a={...n.webpack.findByProps("marginBottom20"),...n.webpack.findByProps("formText"),...n.webpack.findByDisplayName("Flex")};var E=e=>o.createElement(k,{title:e.title,required:e.required,className:`${a.Direction.VERTICAL} ${a.Justify.START} ${a.Align.STRETCH} ${a.Wrap.NO_WRAP} ${a.marginBottom20}`},e.children,e.note&&o.createElement(D,{className:`${a.description} ${a.marginTop8}`},e.note));const P=n.webpack.findByDisplayName("TextInput");var d=e=>{const l=e.children;return delete e.children,o.createElement(E,{title:l,required:e.required,note:e.note},o.createElement(P,{...e}))},T=()=>g.injectCSS("#pclwrapper{position:absolute;top:0;left:0;width:100%;height:100%;display:none}#pclinputwrapper{position:absolute;margin:auto;top:0;left:0;bottom:0;right:0;width:300px;height:50px}");T(),typeof t.store.passcode!="string"&&(t.store.passcode=""),typeof t.store.locked!="boolean"&&(t.store.locked=!1);let $=function(e){e===t.store.passcode&&x()};const c=document.createElement("div");c.id="pclwrapper";const B=o.createElement("div",{id:"pclinputwrapper"},o.createElement(d,{id:"pclinput",type:"password",defaultValue:"",onKeyDown:i,onChange:$,onPaste:p},"Passcode"));w.ReactDOM.render(B,c),document.body.appendChild(c);const C=n.webpack.findByProps("notDevTools").notDevTools;let u=function(e){cumcord.patcher.injectCSS(`.${C} {filter: blur(${e?.8:0}rem);}`)},m=function(){t.store.passcode.length!==0&&(u(!0),r("pclinput").maxLength=t.store.passcode.length,c.style.display="block",r("pclinput").focus(),t.store.locked=!0)},x=function(){u(!1),c.style.display="none",pclinput.value="",t.store.locked=!1},f=function(e){e.code=="F12"&&!t.store.locked&&(e.preventDefault(),m())};function r(e){return document.getElementById(e)}function p(e){e.preventDefault()}function i(e){e.key===" "&&e.preventDefault()}function y(e){r("pclpass1").value.length===0&&r("pclpass2").value.length==0?t.store.passcode="":r("pclpass1").value===r("pclpass2").value?t.store.passcode=e:t.store.passcode=""}m();var N={onLoad(){document.addEventListener("keydown",f)},onUnload(){document.removeEventListener("keydown",f),c.remove()},settings:()=>o.createElement("div",null,o.createElement(d,{id:"pclpass1",type:"password",note:"You will have to enter this password to unlock discord (no spaces)",defaultValue:t.store.passcode,onKeyDown:i,onChange:y,onPaste:p},"Passcode"),o.createElement(d,{id:"pclpass2",type:"password",note:"Passwords must match in order for you to be able to lock discord",defaultValue:t.store.passcode,onKeyDown:i,onChange:y,onPaste:p},"Confirm Passcode"))};return N})(cumcord.modules.common.React,cumcord.pluginData.persist,cumcord.modules.common,cumcord.modules,cumcord.patcher);
